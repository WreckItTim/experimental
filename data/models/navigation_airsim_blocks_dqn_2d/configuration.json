{
  "meta": {},
  "misc": {
    "nObservations": 1
  },
  "parameters": {
    "airsim_map": "Blocks",
    "motion": "2d"
  },
  "components": {
    "Environment": {
      "type": "Environment.GoalEnv",
      "drone_component": "Drone",
      "actor_component": "Actor",
      "observer_component": "Observer",
      "rewarder_component": "Rewarder",
      "spawner_component": "Spawner",
      "model_component": "Model",
      "map_component": "Map",
      "others_components": null,
      "step_counter": 0,
      "episode_counter": 0,
      "save_counter": 0,
      "crash_handler": false,
      "connect_priority": -3
    },
    "Rooftops": {
      "type": "Other.Rooftops",
      "read_path": "/home/tim/Dropbox/data/rooftops/v1/Blocks.p",
      "buffer": -2
    },
    "Map": {
      "type": "Map.Etherial",
      "rooftops_component": "Rooftops",
      "x_bounds": [
        -120,
        100
      ],
      "y_bounds": [
        -140,
        140
      ],
      "z_bounds": [
        -4,
        -3
      ]
    },
    "Drone": {
      "type": "Drone.Etherial",
      "map_component": "Map",
      "discretized": true
    },
    "BoundsReward": {
      "type": "Reward.Bounds",
      "drone_component": "Drone",
      "x_bounds": [
        -120,
        100
      ],
      "y_bounds": [
        -140,
        140
      ],
      "z_bounds": [
        -4,
        -3
      ],
      "terminate": true
    },
    "CollisionReward": {
      "type": "Reward.Collision",
      "drone_component": "Drone",
      "terminate": true
    },
    "GoalReward": {
      "type": "Reward.Goal",
      "drone_component": "Drone",
      "goal_component": "Spawner",
      "include_z": false,
      "tolerance": 2,
      "terminate": true
    },
    "MaxStepsReward": {
      "type": "Reward.MaxSteps",
      "spawner_component": "Spawner",
      "max_steps": 4,
      "update_steps": false,
      "step_ratio": 1,
      "max_max": 200,
      "use_astar": true,
      "astar_multiplier": 2,
      "terminate": true
    },
    "StepsReward": {
      "type": "Reward.Steps"
    },
    "DistanceReward": {
      "type": "Reward.Distance",
      "drone_component": "Drone",
      "goal_component": "Spawner",
      "max_distance": 8,
      "include_z": false
    },
    "Rewarder": {
      "type": "Rewarder.Schema",
      "rewards_components": [
        "BoundsReward",
        "CollisionReward",
        "GoalReward",
        "MaxStepsReward",
        "StepsReward",
        "DistanceReward"
      ],
      "reward_weights": [
        1,
        1,
        10,
        1,
        0.1,
        0.1
      ]
    },
    "RotateRight90": {
      "type": "Action.FixedRotate",
      "drone_component": "Drone",
      "yaw_diff": 1.5707963267948966
    },
    "RotateLeft90": {
      "type": "Action.FixedRotate",
      "drone_component": "Drone",
      "yaw_diff": -1.5707963267948966
    },
    "MoveForward2": {
      "type": "Action.FixedMove",
      "drone_component": "Drone",
      "x_distance": 2,
      "y_distance": 0,
      "z_distance": 0,
      "speed": 2,
      "adjust_for_yaw": true
    },
    "MoveForward4": {
      "type": "Action.FixedMove",
      "drone_component": "Drone",
      "x_distance": 4,
      "y_distance": 0,
      "z_distance": 0,
      "speed": 2,
      "adjust_for_yaw": true
    },
    "MoveForward8": {
      "type": "Action.FixedMove",
      "drone_component": "Drone",
      "x_distance": 8,
      "y_distance": 0,
      "z_distance": 0,
      "speed": 2,
      "adjust_for_yaw": true
    },
    "MoveForward16": {
      "type": "Action.FixedMove",
      "drone_component": "Drone",
      "x_distance": 16,
      "y_distance": 0,
      "z_distance": 0,
      "speed": 2,
      "adjust_for_yaw": true
    },
    "MoveForward32": {
      "type": "Action.FixedMove",
      "drone_component": "Drone",
      "x_distance": 32,
      "y_distance": 0,
      "z_distance": 0,
      "speed": 2,
      "adjust_for_yaw": true
    },
    "Actor": {
      "type": "Actor.TeleporterDiscrete",
      "drone_component": "Drone",
      "actions_components": [
        "RotateRight90",
        "RotateLeft90",
        "MoveForward2",
        "MoveForward4",
        "MoveForward8",
        "MoveForward16",
        "MoveForward32"
      ],
      "discretize": true,
      "connect_priority": 1
    },
    "NormalizeOrientation": {
      "type": "Transformer.Normalize",
      "min_input": -3.141592653589793,
      "max_input": 3.141592653589793,
      "min_output": 0.1,
      "max_output": 1,
      "left": null,
      "right": null
    },
    "NormalizeDistance": {
      "type": "Transformer.Normalize",
      "min_input": 1,
      "max_input": 100,
      "min_output": 0.1,
      "max_output": 1,
      "left": 0,
      "right": null
    },
    "DataDictForward": {
      "type": "Other.DataDict",
      "data_dir": "/home/tim/Dropbox/data/observations/DepthV2/Blocks/",
      "id_name": "alpha",
      "x_vals": [
        -120,
        -118,
        -116,
        -114,
        -112,
        -110,
        -108,
        -106,
        -104,
        -102,
        -100,
        -98,
        -96,
        -94,
        -92,
        -90,
        -88,
        -86,
        -84,
        -82,
        -80,
        -78,
        -76,
        -74,
        -72,
        -70,
        -68,
        -66,
        -64,
        -62,
        -60,
        -58,
        -56,
        -54,
        -52,
        -50,
        -48,
        -46,
        -44,
        -42,
        -40,
        -38,
        -36,
        -34,
        -32,
        -30,
        -28,
        -26,
        -24,
        -22,
        -20,
        -18,
        -16,
        -14,
        -12,
        -10,
        -8,
        -6,
        -4,
        -2,
        0,
        2,
        4,
        6,
        8,
        10,
        12,
        14,
        16,
        18,
        20,
        22,
        24,
        26,
        28,
        30,
        32,
        34,
        36,
        38,
        40,
        42,
        44,
        46,
        48,
        50,
        52,
        54,
        56,
        58,
        60,
        62,
        64,
        66,
        68,
        70,
        72,
        74,
        76,
        78,
        80,
        82,
        84,
        86,
        88,
        90,
        92,
        94,
        96,
        98,
        100
      ],
      "y_vals": [
        -140,
        -138,
        -136,
        -134,
        -132,
        -130,
        -128,
        -126,
        -124,
        -122,
        -120,
        -118,
        -116,
        -114,
        -112,
        -110,
        -108,
        -106,
        -104,
        -102,
        -100,
        -98,
        -96,
        -94,
        -92,
        -90,
        -88,
        -86,
        -84,
        -82,
        -80,
        -78,
        -76,
        -74,
        -72,
        -70,
        -68,
        -66,
        -64,
        -62,
        -60,
        -58,
        -56,
        -54,
        -52,
        -50,
        -48,
        -46,
        -44,
        -42,
        -40,
        -38,
        -36,
        -34,
        -32,
        -30,
        -28,
        -26,
        -24,
        -22,
        -20,
        -18,
        -16,
        -14,
        -12,
        -10,
        -8,
        -6,
        -4,
        -2,
        0,
        2,
        4,
        6,
        8,
        10,
        12,
        14,
        16,
        18,
        20,
        22,
        24,
        26,
        28,
        30,
        32,
        34,
        36,
        38,
        40,
        42,
        44,
        46,
        48,
        50,
        52,
        54,
        56,
        58,
        60,
        62,
        64,
        66,
        68,
        70,
        72,
        74,
        76,
        78,
        80,
        82,
        84,
        86,
        88,
        90,
        92,
        94,
        96,
        98,
        100,
        102,
        104,
        106,
        108,
        110,
        112,
        114,
        116,
        118,
        120,
        122,
        124,
        126,
        128,
        130,
        132,
        134,
        136,
        138,
        140
      ],
      "z_vals": [
        -4
      ],
      "yaw_vals": [
        0,
        1,
        2,
        3
      ]
    },
    "DepthV2": {
      "type": "Sensor.Cache",
      "datadict_component": "DataDictForward",
      "drone_component": "Drone",
      "sensor_name": "DepthV2",
      "map_name": "Blocks",
      "observations_path": "/home/tim/Dropbox/data/observations/",
      "queries_path": null,
      "offline": false,
      "transformers_components": [],
      "use_dict": true,
      "future": 0,
      "action_component": null,
      "memory": "all",
      "discretize": true,
      "connect_priority": -1
    },
    "GoalDistanceXY": {
      "type": "Sensor.Distance",
      "misc_component": "Drone",
      "misc2_component": "Spawner",
      "include_x": true,
      "include_y": true,
      "include_z": false,
      "prefix": "drone_to_goal",
      "transformers_components": [
        "NormalizeDistance"
      ],
      "offline": false,
      "memory": "all",
      "connect_priority": -1
    },
    "GoalOrientation": {
      "type": "Sensor.Orientation",
      "misc_component": "Drone",
      "misc2_component": "Spawner",
      "prefix": "drone_to_goal",
      "transformers_components": [
        "NormalizeOrientation"
      ],
      "offline": false,
      "memory": "all",
      "connect_priority": -1
    },
    "DistanceBounds": {
      "type": "Sensor.DistanceBounds",
      "drone_component": "Drone",
      "x_bounds": [
        -120,
        100
      ],
      "y_bounds": [
        -140,
        140
      ],
      "z_bounds": [
        -4,
        -3
      ],
      "transformers_components": [
        "NormalizeDistance"
      ],
      "include_z": false,
      "offline": false,
      "memory": "all",
      "connect_priority": -1
    },
    "VecObserver": {
      "type": "Observer.Single",
      "sensors_components": [
        "GoalDistanceXY",
        "GoalOrientation",
        "DistanceBounds"
      ],
      "map_component": "Map",
      "vector_length_forget": 0,
      "vector_length_remember": 3,
      "is_image": false,
      "image_height": null,
      "image_width": null,
      "image_bands_forget": null,
      "image_bands_remember": null,
      "nPast": 4,
      "null_if_in_obj": true,
      "null_if_oob": true,
      "connect_priority": -2
    },
    "ImgObserver": {
      "type": "Observer.Single",
      "sensors_components": [
        "DepthV2"
      ],
      "map_component": "Map",
      "vector_length_forget": null,
      "vector_length_remember": null,
      "is_image": true,
      "image_height": 36,
      "image_width": 64,
      "image_bands_forget": 0,
      "image_bands_remember": 1,
      "nPast": 4,
      "null_if_in_obj": true,
      "null_if_oob": true,
      "connect_priority": -2
    },
    "Observer": {
      "type": "Observer.Multi",
      "vector_observer_component": "VecObserver",
      "image_observer_component": "ImgObserver",
      "connect_priority": -2
    },
    "Model": {
      "type": "SB3Model.DQN",
      "environment_component": "Environment",
      "policy": "MultiInputPolicy",
      "learning_rate": 0.00025,
      "buffer_size": 100000,
      "learning_starts": 10000,
      "batch_size": 32,
      "tau": 1.0,
      "gamma": 0.99,
      "train_freq": 4,
      "gradient_steps": 1,
      "replay_buffer_class": null,
      "replay_buffer_kwargs": null,
      "optimize_memory_usage": false,
      "target_update_interval": 10000,
      "exploration_fraction": 0.005,
      "exploration_initial_eps": 1.0,
      "exploration_final_eps": 0.01,
      "max_grad_norm": 10,
      "tensorboard_log": null,
      "policy_kwargs": null,
      "verbose": 0,
      "seed": null,
      "device": "cuda:0",
      "init_setup_model": true,
      "read_model_path": null,
      "read_replay_buffer_path": null,
      "read_weights_path": null,
      "use_slim": false,
      "convert_slim": false,
      "connect_priority": -4
    },
    "Spawner": {
      "type": "Spawner.Levels",
      "drone_component": "Drone",
      "levels_path": "/home/tim/Dropbox/data/astar_paths/v1/Blocks_2d_train.p",
      "start_level": 0,
      "max_level": 5,
      "random_path": true,
      "yaw_type": 0,
      "rotating_idx": 0,
      "paths_per_sublevel": 1,
      "level": 0
    },
    "Curriculum": {
      "type": "Modifier.Curriculum",
      "base_component": "Environment",
      "parent_method": "end",
      "order": "post",
      "spawner_component": "Spawner",
      "start_level": 0,
      "max_level": 5,
      "level_up_criteria": 0.9,
      "level_up_buffer": 100,
      "terminate_on_max": false,
      "eval_num_per_level": 10,
      "level": 0,
      "track_record": [
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      "track_idx": 0,
      "reached_max": false,
      "frequency": 1,
      "eval_on_levelup": true,
      "model_component": "Model",
      "update_progress": false,
      "counter": 0,
      "connect_priority": -1
    },
    "ModelingSaver": {
      "type": "Modifier.Saver",
      "base_component": "Model",
      "parent_method": "end",
      "track_vars": [
        "model"
      ],
      "order": "post",
      "include_counter": false,
      "save_config": false,
      "save_benchmarks": false,
      "save_log": false,
      "write_folder": "/home/tim/Dropbox/data/models/navigation_airsim_blocks_dqn_2d/modeling/",
      "frequency": 2000000,
      "counter": 0,
      "activation_counter": 0,
      "activate_on_first": true,
      "save_on_exit": true,
      "connect_priority": -999
    }
  }
}